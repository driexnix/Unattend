<?xml version="1.0" encoding="utf-8"?>
<unattend xmlns="urn:schemas-microsoft-com:unattend">
    <!--
   ====================
   WINDOWSPE SETTINGS
   ====================
   The windowsPE configuration pass is used to configure settings specific to Windows PE as well as settings that apply to installation.
   For example, you can specify the display resolution of Windows PE, where to save a log file, and other Windows PE-related settings.
   -->
<settings pass="windowsPE">

      <component name="Microsoft-Windows-Setup" publicKeyToken="31bf3856ad364e35" language="neutral" versionScope="nonSxS" processorArchitecture="amd64">
       <UserData>
        <AcceptEula>true</AcceptEula>
       </UserData>
                 <SetupUILanguage>
                <UILanguage>en-US</UILanguage>
            </SetupUILanguage>
            <InputLocale>en-US</InputLocale>
            <SystemLocale>en-US</SystemLocale>
            <UILanguage>en-US</UILanguage>
            <UserLocale>en-US</UserLocale>
            <UILanguageFallback>en-US</UILanguageFallback>

   <DiskConfiguration>
     <Disk wcm:action="add">
       <DiskID>0</DiskID> 
       <WillWipeDisk>true</WillWipeDisk> 
       <CreatePartitions>

         <!-- Recovery partition -->
         <CreatePartition wcm:action="add">
           <Order>1</Order> 
           <Type>Primary</Type> 
           <Size>250</Size> 
         </CreatePartition>

         <!-- EFI system partition (ESP) -->
         <CreatePartition wcm:action="add">
           <Order>2</Order> 
           <Type>EFI</Type> 
           <Size>100</Size> 
         </CreatePartition>

         <!-- Microsoft reserved partition (MSR) -->
         <CreatePartition wcm:action="add">
           <Order>3</Order> 
           <Type>MSR</Type> 
           <Size>128</Size> 
         </CreatePartition>

         <!-- Windows partition -->
         <CreatePartition wcm:action="add">
           <Order>4</Order> 
           <Type>Primary</Type> 
           <Extend>true</Extend> 
         </CreatePartition>

       </CreatePartitions>
       <ModifyPartitions>

         <!-- Recovery partition -->
         <ModifyPartition wcm:action="add">
           <Order>1</Order> 
           <PartitionID>1</PartitionID> 
           <Label>Recovery</Label> 
           <Format>NTFS</Format> 
           <TypeID>de94bba4-06d1-4d40-a16a-bfd50179d6ac</TypeID> 
         </ModifyPartition>

         <!-- EFI system partition (ESP) -->
         <ModifyPartition wcm:action="add">
           <Order>2</Order>
           <PartitionID>2</PartitionID>
           <Label>System</Label>
           <Format>FAT32</Format>
         </ModifyPartition>

         <!-- MSR partition does not need to be modified -->

         <!-- Windows partition -->
         <ModifyPartition wcm:action="add">
           <Order>3</Order>
           <PartitionID>4</PartitionID>
           <Label>Windows</Label>
           <Format>NTFS</Format>
         </ModifyPartition>

       </ModifyPartitions>
     </Disk>
     	<WillShowUI>OnError</WillShowUI> 
   </DiskConfiguration>

       <ComplianceCheck>
        <DisplayReport>OnError</DisplayReport>
       </ComplianceCheck>

       <ImageInstall>
        <OSImage>
         <InstallFrom>
          <MetaData wcm:action="add">
           <Key>/IMAGE/NAME</Key>
           <Value>Windows 10 Pro</Value>
          </MetaData>
         </InstallFrom>
         <InstallTo>
          <DiskID>0</DiskID>
          <PartitionID>4</PartitionID>
         </InstallTo>
         <WillShowUI>OnError</WillShowUI>
         <InstallToAvailablePartition>false</InstallToAvailablePartition>
        </OSImage>
       </ImageInstall>
      </component>

      <component name="Microsoft-Windows-International-Core-WinPE" publicKeyToken="31bf3856ad364e35" language="neutral" versionScope="nonSxS" processorArchitecture="amd64">
       <InputLocale>en-us</InputLocale>
       <SystemLocale>en-us</SystemLocale>
       <UILanguage>en-us</UILanguage>
       <UserLocale>en-us</UserLocale>
      </component>

     </settings>




  <settings pass="windowsPE">
    <!--
   =====================
   GENERALIZE SETTINGS
   =====================
   The generalize pass of Windows Setup is used to create a Windows reference image that can be used throughout an organization.
   A setting in the generalize pass enables you to automate the behavior for all deployments of this reference image.
   In comparison, a setting associated with the specialize configuration pass enables you to override behavior for a single, specific deployment.
   When a system is generalized, specific configuration data for a given installation of Windows is removed.
   For example, during the generalize pass, the unique security ID (SID) and other hardware-specific settings are removed from the image.
   The generalize configuration pass runs only when you use the sysprep /generalize command.
   Answer file settings in generalize are applied to the system before sysprep generalization occurs. The system then shuts down.
   -->
    <!--
   <settings pass="generalize">
   </settings>
    <!--
   =====================
   OOBESYSTEM SETTINGS
   =====================
   The oobeSystem pass configures settings that are applied during the first-boot experience for end users, also called Windows Welcome.
   oobeSystem settings are processed before a user first logs into Windows.
   Out-of-Box-Experience (OOBE) runs the first time the user starts a new computer.
   OOBE runs before the Windows shell or any additional software runs, and performs a small set of tasks necessary to configure and run Windows.
   -->
    <settings pass="oobeSystem">

      <!-- EFI system partition (ESP) -->
      <CreatePartition wcm:action="add">
        <Order>2</Order> 
        <Type>EFI</Type> 
        <Size>100</Size> 
      </CreatePartition>
        <component name="Microsoft-Windows-Shell-Setup" processorArchitecture="amd64" publicKeyToken="31bf3856ad364e35" language="neutral" versionScope="nonSxS" xmlns:wcm="http://schemas.microsoft.com/WMIConfig/2002/State" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
            <UserAccounts>
                <LocalAccounts>
                    <LocalAccount wcm:action="add">
                        <Password>
                            <Value>password123</Value> 
                            <PlainText>false</PlainText>
                        </Password>
                        <Group>Administrators</Group>
                        <Name>gebruiker</Name>
                    </LocalAccount>
                </LocalAccounts>
            </UserAccounts>
            <TimeZone>Central European Standard Time</TimeZone>
            <AutoLogon>
                <Enabled>true</Enabled>
                <LogonCount>1</LogonCount>
                <Username>gebruiker</Username>
                <Password>
                    <PlainText>false</PlainText>
                    <Value>password123</Value>
                </Password>
            </AutoLogon>
            <FirstLogonCommands>
                <SynchronousCommand wcm:action="add">
                    <RequiresUserInput>false</RequiresUserInput>
                    <Description>Opsi tasks</Description>
                    <Order>1</Order>
                    <CommandLine>cmd.exe /c C:\opsi\postinst.cmd</CommandLine>
                </SynchronousCommand>
            </FirstLogonCommands>

      <!-- Microsoft reserved partition (MSR) -->
      <CreatePartition wcm:action="add">
        <Order>3</Order> 
        <Type>MSR</Type> 
        <Size>128</Size> 
      </CreatePartition>

      <!-- Windows partition -->
      <CreatePartition wcm:action="add">
        <Order>4</Order> 
        <Type>Primary</Type> 
        <Extend>true</Extend> 
      </CreatePartition>

    </CreatePartitions>
    <ModifyPartitions>

      <!-- Recovery partition -->
      <ModifyPartition wcm:action="add">
        <Order>1</Order> 
        <PartitionID>1</PartitionID> 
        <Label>Recovery</Label> 
        <Format>NTFS</Format> 
        <TypeID>de94bba4-06d1-4d40-a16a-bfd50179d6ac</TypeID> 
      </ModifyPartition>

      <!-- EFI system partition (ESP) -->
      <ModifyPartition wcm:action="add">
        <Order>2</Order>
        <PartitionID>2</PartitionID>
        <Label>System</Label>
        <Format>FAT32</Format>
      </ModifyPartition>

      <!-- MSR partition does not need to be modified -->

      <!-- Windows partition -->
      <ModifyPartition wcm:action="add">
        <Order>3</Order>
        <PartitionID>4</PartitionID>
        <Label>Windows</Label>
        <Format>NTFS</Format>
      </ModifyPartition>

    </ModifyPartitions>
  </Disk>
  	<WillShowUI>OnError</WillShowUI> 
</DiskConfiguration>

    <ComplianceCheck>
     <DisplayReport>OnError</DisplayReport>
    </ComplianceCheck>

    <ImageInstall>
     <OSImage>
      <InstallFrom>
       <MetaData wcm:action="add">
        <Key>/IMAGE/NAME</Key>
        <Value>Windows 10 Pro</Value>
       </MetaData>
      </InstallFrom>
      <InstallTo>
       <DiskID>0</DiskID>
       <PartitionID>4</PartitionID>
      </InstallTo>
      <WillShowUI>OnError</WillShowUI>
      <InstallToAvailablePartition>false</InstallToAvailablePartition>
     </OSImage>
    </ImageInstall>
   </component>

   <component name="Microsoft-Windows-International-Core-WinPE" publicKeyToken="31bf3856ad364e35" language="neutral" versionScope="nonSxS" processorArchitecture="amd64">
    <InputLocale>en-us</InputLocale>
    <SystemLocale>en-us</SystemLocale>
    <UILanguage>en-us</UILanguage>
    <UserLocale>en-us</UserLocale>
   </component>

  </settings>
            <OOBE>
                <HideEULAPage>true</HideEULAPage>
                <ProtectYourPC>3</ProtectYourPC>
                <HideOnlineAccountScreens>true</HideOnlineAccountScreens>
                <HideLocalAccountScreen>true</HideLocalAccountScreen>
                <HideWirelessSetupInOOBE>true</HideWirelessSetupInOOBE>
            </OOBE>

        </component>
   <component name="Microsoft-Windows-International-Core" processorArchitecture="amd64" publicKeyToken="31bf3856ad364e35" language="neutral" versionScope="nonSxS" xmlns:wcm="http://schemas.microsoft.com/WMIConfig/2002/State" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
            <InputLocale>0413:00020409</InputLocale>
            <SystemLocale>en-US</SystemLocale>
            <UILanguage>en-US</UILanguage>
            <UILanguageFallback>en-US</UILanguageFallback>
            <UserLocale>en-US</UserLocale>
        </component>

    </settings>
    <cpi:offlineImage cpi:source="wim:c:/temp/win10_/win10-x64/installfiles/sources/install.wim#Windows 10 Pro" xmlns:cpi="urn:schemas-microsoft-com:cpi" />
</unattend>
<!--
Password, you found the password in a public github, grats. (Honeypot via RDP 3389 available)
-->
